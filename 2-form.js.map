{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nif (!form) {\n    throw new Error('Form with class \".feedback-form\" not found');\n}\n\nconst emailEl = form.elements.email;\nconst messageEl = form.elements.message;\n\nfunction loadState() {\n    try {\n        const raw = localStorage.getItem(STORAGE_KEY);\n        return raw ? JSON.parse(raw) : null;\n    } catch {\n        return null;\n    }\n}\n\nfunction saveState(state) {\n    try {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));\n    } catch {\n    }\n}\n\nlet formData = { email: '', message: '' };\n\nconst saved = loadState();\nif (saved && typeof saved === 'object') {\n    if (typeof saved.email === 'string') {\n        emailEl.value = saved.email;\n        formData.email = saved.email;\n    }\n    if (typeof saved.message === 'string') {\n        messageEl.value = saved.message;\n        formData.message = saved.message;\n    }\n}\n\nform.addEventListener('input', (e) => {\n    const target = e.target;\n    if (!target || !target.name) return;\n\n    if (target.name !== 'email' && target.name !== 'message') return;\n\n    formData[target.name] = target.value;\n    saveState(formData);\n});\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const email = (formData.email || '').trim();\n    const message = (formData.message || '').trim();\n\n    if (!email || !message) {\n        alert('Fill please all fields');\n        return;\n    }\n\n    console.log({ email, message });\n\n    localStorage.removeItem(STORAGE_KEY);\n    formData = { email: '', message: '' };\n    form.reset();\n});"],"names":["STORAGE_KEY","form","emailEl","messageEl","loadState","raw","saveState","state","formData","saved","e","target","email","message"],"mappings":"wFAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EACpD,GAAI,CAACA,EACD,MAAM,IAAI,MAAM,4CAA4C,EAGhE,MAAMC,EAAUD,EAAK,SAAS,MACxBE,EAAYF,EAAK,SAAS,QAEhC,SAASG,GAAY,CACjB,GAAI,CACA,MAAMC,EAAM,aAAa,QAAQL,CAAW,EAC5C,OAAOK,EAAM,KAAK,MAAMA,CAAG,EAAI,IACvC,MAAY,CACJ,OAAO,IACV,CACL,CAEA,SAASC,EAAUC,EAAO,CACtB,GAAI,CACA,aAAa,QAAQP,EAAa,KAAK,UAAUO,CAAK,CAAC,CAC/D,MAAY,CACP,CACL,CAEA,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAQL,EAAS,EACnBK,GAAS,OAAOA,GAAU,WACtB,OAAOA,EAAM,OAAU,WACvBP,EAAQ,MAAQO,EAAM,MACtBD,EAAS,MAAQC,EAAM,OAEvB,OAAOA,EAAM,SAAY,WACzBN,EAAU,MAAQM,EAAM,QACxBD,EAAS,QAAUC,EAAM,UAIjCR,EAAK,iBAAiB,QAAUS,GAAM,CAClC,MAAMC,EAASD,EAAE,OACb,CAACC,GAAU,CAACA,EAAO,MAEnBA,EAAO,OAAS,SAAWA,EAAO,OAAS,YAE/CH,EAASG,EAAO,IAAI,EAAIA,EAAO,MAC/BL,EAAUE,CAAQ,EACtB,CAAC,EAEDP,EAAK,iBAAiB,SAAWS,GAAM,CACnCA,EAAE,eAAc,EAEhB,MAAME,GAASJ,EAAS,OAAS,IAAI,KAAI,EACnCK,GAAWL,EAAS,SAAW,IAAI,KAAI,EAE7C,GAAI,CAACI,GAAS,CAACC,EAAS,CACpB,MAAM,wBAAwB,EAC9B,MACH,CAED,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAS,CAAA,EAE9B,aAAa,WAAWb,CAAW,EACnCQ,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCP,EAAK,MAAK,CACd,CAAC"}